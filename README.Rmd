---
output: github_document
---

This is a package for clustering OD desire lines (or flows). 

1. Create distance matrix between OD pairs
2. Pass distance matrix to a clustering algorithm 

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# flowcluster

<!-- badges: start -->
[![R-CMD-check](https://github.com/Hussein-Mahfouz/flowcluster/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Hussein-Mahfouz/flowcluster/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The goal of flowcluster is to provide functions and example datasets for clustering OD origin-destination datasets.
This process can be useful for visualising large OD datasets and analysing patterns in the data.

```{r, eval=FALSE, echo=FALSE}
usethis::use_description()
usethis::use_version()
usethis::use_r(name = "flowcluster")
# Let's set-up actions...
usethis::use_github_action_check_standard()
# Let's see if it with a check:
devtools::check()


# Let's add a license
usethis::use_mit_license("Hussein Mahfouz")

# Use buid_ignore
usethis::use_build_ignore("flowcluster.Rproj")
# And README.Rmd:
usethis::use_build_ignore("README.Rmd")

# Let's create a package website that auto-deploys with pkgdown:
# usethis::use_pkgdown()
usethis::use_pkgdown_github_pages()

# Add the pkgdown action:
usethis::use_github_action("pkgdown")

usethis::use_github_action("check-standard")

# Add example data: read the data bit in the r-pkg book
usethis::use_data_raw()

# load in the package
devtools::load_all()
# document the package
devtools::document()

# Add dependencies to the package
usethis::use_package("geographr")
```

```bash
# see if the workflows are working:
gh run list
```

Install the package with:

```{r}
#| eval: false
if (!requireNamespace("pak", quietly = TRUE)) {
  install.packages("pak")
}
pak::pkg_install("Hussein-Mahfouz/flowcluster")
```

Or, for local development, clone the repo, open the project in RStudio, and run:

```{r}
#| results: hide
devtools::load_all()
```


# Example

```{r}
library(flowcluster)
flows_sf <- flows_leeds
head(flows_sf)
plot(flows_sf["count"])
flows_clustered <- flowcluster::flowcluster(
  flows_sf
)
```

# Style

We use the tidyverse style.
To ensure your changes abide by this, run the following command before pushing changes:

```{r}
#| eval: false
styler::style_pkg()
```